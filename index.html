<html>
<head>
<script type="text/javascript" src="https://cdn.firebase.com/v0/firebase.js"></script>
<script type="text/javascript" src="https://cdn.firebase.com/v0/firebase-auth-client.js"></script>  
<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js"></script>  
<script type="text/javascript" src="http://hiroshi.github.io/knockoutFire/knockoutfire-0.0.4.js"></script>
<link rel="stylesheet" type="text/css" href="normalize.css">

<link rel="stylesheet" type="text/css" href="css/style.css">

</head>
<body>
<div id="items">
<ul data-bind="foreach: items">
  <li>
      <input type="text" data-bind="value: content, valueUpdate: 'keyup'"/> 
      <a data-bind="click: $parent.removeItem" href="#">[x]</a>
  </li>
</ul>
<!-- ko with: items.newItem -->
<form data-bind="submit: create">
    <input data-bind="value: content" />
    <button type="submit">yea buddy</button>
    <p><a href="javascript:login('twitter', {rememberMe: true});">Login with Twitter &raquo;</a></p>
</form>
<!-- /ko -->
</div>
<script>
  var chatRef = new Firebase('https://hit.firebaseIO.com');
var authClient = new FirebaseAuthClient(chatRef, function(error, user) {
  if (error) {
    // an error occurred while attempting login
    console.log(error);
  } else if (user) {
    // user authenticated with Firebase
    console.log('User ID: ' + user.id + ', Provider: ' + user.provider);
    var firebase = new Firebase("https://hit.firebaseio.com/" + user.id);
    

  } else {


  }

});
 function login(provider) {
      authClient.login(provider);
    }
    var firebase = new Firebase("https://hit.firebaseio.com/" + user.id);


var viewModel = {
    "items": KnockoutFire.observable(
        firebase, {
            "$item": {
                "content": true
            },
            ".newItem": {
                ".priority": function() { return Date.now() }
            }
        }
    ),
    "removeItem": function(item) {
        firebase.child(item.firebase.name()).remove();
    }
};
ko.applyBindings(viewModel, document.getElementById("items"));</script>
</body>
<html>